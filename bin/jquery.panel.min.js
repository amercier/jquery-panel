/*! jquery.panel.js - https://github.com/amercier/jquery-panel */
(function($){var defaultOptions={side:"left",showButtons:true,startHidden:false,startCollapsed:false,duration:undefined,easing:undefined,callback:undefined};
function _getProperty(side){return side}function _opposite(value){if(value===undefined||value===null||value==="auto"){return value
}else{var matches=value.match(/^(-)?(.*[^a-z])([a-z%]+)$/);return(matches[1]?1:-1)*parseFloat(matches[2])+matches[3]
}}function _setExpanded($this,data,expanded){data=data||$this.data("panel");data.expanded=expanded;
$this.stop().removeClass("panel-collapsing panel-expanding").css(data.property,expanded?data.expandedValue:data.expandedValue).addClass(expanded?"panel-expanded":"panel-collapsed")
}function _setVisible($this,data,visible){data=data||$this.data("panel");_setExpanded($this,data,visible);
$this.toggle(visible).trigger(visible?"show.panel":"hide.panel")}var methods={init:function(options){return this.each(function(){var $this=$(this),data=$this.data("panel");
if(!data||!data._init){var allOptions=$.extend({_init:true},defaultOptions,data||{},options);
if("width" in allOptions){$this.css("width",allOptions.width)}var outerWidth=$this.outerWidth(),outerHeight=$this.outerHeight(),width=$this.width(),height=$this.height(),position=$this.position(),cssPosition=$this.css("position"),top=$this.css("top"),bottom=$this.css("bottom"),left=$this.css("left"),right=$this.css("right"),side=allOptions.side,fixedHSize=(side==="right"||side==="left")&&("width" in allOptions);
if(cssPosition!=="absolute"&&cssPosition!=="fixed"){window.console&&console.error('Invalid position "'+cssPosition+'" on',$this);
throw'Impossible to create a panel while position is "'+cssPosition+'"'}$this.data("panel",data={side:side,duration:allOptions.duration,easing:allOptions.easing,property:_getProperty(side),expandedValue:0,collapsedValue:$.inArray(side,["left","right"])>-1?-outerWidth:-outerHeight,ratio:$.inArray(side,["left","right"])>-1?-outerWidth/100:-outerHeight/100}).addClass("panel-"+data.side).addClass("panel-content").addClass(data.collapsed?"panel-collapsed":"panel-expanded");
var wrapper=$this.wrap("<div></div>").parent().addClass("panel");wrapper.css({top:top,bottom:bottom,left:fixedHSize&&side==="right"?"auto":left,right:fixedHSize&&side==="left"?"auto":right,height:top!=="auto"&&bottom!=="auto"?"auto":(/%$/.test(height)?height:outerHeight),width:!fixedHSize&&left!=="auto"&&right!=="auto"?"auto":(/%$/.test(height)?height:outerWidth),margin:[$this.css("margin-top")||0,$this.css("margin-right")||0,$this.css("margin-bottom")||0,$this.css("margin-left")||0].join(" "),position:cssPosition});
$this.css($.extend(({left:{left:0,right:"auto",top:0,bottom:0,width:width,height:"auto"},right:{bottom:0,left:"auto",top:0,right:0,width:width,height:"auto"}})[data.side],{position:"absolute",margin:0}));
if(allOptions.showButtons){var border={top:$this.css("border-top-width"),left:$this.css("border-left-width"),bottom:$this.css("border-bottom-width"),right:$this.css("border-right-width")};
var buttonCSS=({left:{"margin-top":_opposite(border.top),"margin-left":border.right,"margin-right":_opposite(border.right),"margin-bottom":border.top},right:{"margin-top":_opposite(border.top),"margin-left":_opposite(border.left),"margin-right":border.left,"margin-bottom":border.top}})[side];
var collapseButton=$('<button class="panel-button panel-button-collapse"> </button>').css(buttonCSS).text("Collapse").appendTo($this);
var expandButton=$('<button class="panel-button panel-button-expand"> </button>').css(buttonCSS).appendTo($this);
collapseButton.click(function(event){event.preventDefault();event.stopPropagation();
$this.panel("collapse")});expandButton.click(function(event){event.preventDefault();
event.stopPropagation();$this.panel("expand")})}_setVisible($this,data,!allOptions.startHidden);
_setExpanded($this,data,!allOptions.startCollapsed)}})},show:function(){return this.each(function(){_setVisible($(this),undefined,true)
})},hide:function(){return this.each(function(){_setVisible($(this),undefined,false)
})},toggle:function(show){return this.each(function(){var $this=$(this),data=$this.data("panel");
_setVisible($(this),data,show!==undefined&&show||show===undefined&&$this.css("display")==="none")
})},expand:function(amount){return this.each(function(){var $this=$(this),data=$this.data("panel"),properties={},matches;
properties[data.property]=amount===undefined?data.expandedValue:((matches=/(.*)%$/.exec(amount))?data.ratio*(100-parseFloat(matches[1])):data.collapsedValue+parseFloat(amount));
data.expanded=properties[data.property]==data.expandedValue;$this.stop().animate(properties,data.duration,data.easing,function(){$this.removeClass("panel-expanding").addClass("panel-expanded").trigger("afterexpand.panel")
}).removeClass("panel-collapsing panel-collapsed panel-expanded").addClass("panel-expanding").trigger("expand.panel")
})},collapse:function(amount){return this.each(function(){var $this=$(this),data=$this.data("panel"),properties={},matches;
properties[data.property]=amount===undefined?data.collapsedValue:((matches=/(.*)%$/.exec(amount))?data.ratio*parseFloat(matches[1]):-parseFloat(amount));
data.expanded=properties[data.property]==data.expandedValue;$this.stop().animate(properties,data.duration,data.easing,function(){$this.removeClass("panel-collapsing").addClass("panel-collapsed").trigger("aftercollapse.panel")
}).removeClass("panel-expanding panel-expanded panel-collapsed").addClass("panel-collapsing").trigger("collapse.panel")
})},toggleExpand:function(expand){return this.each(function(){var $this=$(this),data=$this.data("panel");
$this.panel(expand!==undefined&&expand||expand===undefined&&!data.expanded?"expand":"collapse")
})}};$.fn.panel=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1))
}else{if(typeof method==="object"||!method){return methods.init.apply(this,arguments)
}else{$.error("Method "+method+" does not exist on jQuery.panel")}}}})(jQuery);