/*! jquery.panel.js - https://github.com/amercier/jquery-panel */
(function($){var defaultOptions={side:"left",showButtons:true,startHidden:false,startCollapsed:false,duration:undefined,easing:undefined,callback:undefined};
function _getProperty(side){return side}function _setExpanded($this,data,expanded){data=data||$this.data("panel");
data.expanded=expanded;$this.stop().removeClass("panel-collapsing panel-expanding").css(data.property,expanded?data.expandedValue:data.expandedValue).addClass(expanded?"panel-expanded":"panel-collapsed")
}function _setVisible($this,data,visible){data=data||$this.data("panel");if(visible){_setExpanded($this,data,true)
}$this.toggle(visible)}var methods={init:function(options){return this.each(function(){var $this=$(this),data=$this.data("panel");
if(!data||!data._init){var allOptions=$.extend({_init:true},defaultOptions,data||{},options),outerWidth=$this.outerWidth(),outerHeight=$this.outerHeight(),width=$this.width(),height=$this.height(),position=$this.position(),cssPosition=$this.css("position");
if(cssPosition!=="absolute"&&cssPosition!=="fixed"){window.console&&console.error('Invalid position "'+cssPosition+'" on',$this);
throw'Impossible to create a panel while position is "'+cssPosition+'"'}$this.data("panel",data={side:allOptions.side,duration:allOptions.duration,easing:allOptions.easing,property:_getProperty(allOptions.side),expandedValue:0,collapsedValue:$.inArray(allOptions.side,["left","right"])>-1?-outerWidth:-outerHeight,ratio:$.inArray(allOptions.side,["left","right"])>-1?-outerWidth/100:-outerHeight/100}).addClass("panel-"+data.side).addClass("panel-content").addClass(data.collapsed?"panel-collapsed":"panel-expanded");
var wrapper=$this.wrap("<div></div>").parent().addClass("panel");wrapper.css({top:this.style.top||"auto",bottom:this.style.bottom||"auto",left:this.style.left||"auto",right:this.style.right||"auto",height:outerHeight,width:outerWidth,margin:[this.style.marginTop,this.style.marginRight,this.style.marginBottom,this.style.marginLeft].join(" ")||"auto",position:$this.css("position")||"absolute"});
$this.css($.extend(({left:{left:0,right:"auto",top:0,bottom:0,width:width,height:"auto"},right:{bottom:0,left:"auto",top:0,right:0,width:width,height:"auto"}})[data.side],{position:"absolute",margin:"0"}));
if(allOptions.showButtons){var collapseButton=$('<button class="panel-button panel-button-collapse"> </button>').text("Collapse").appendTo($this);
var expandButton=$('<button class="panel-button panel-button-expand"> </button>').text("Expand").appendTo($this);
collapseButton.click(function(event){event.preventDefault();event.stopPropagation();
$this.panel("collapse")});expandButton.click(function(event){event.preventDefault();
event.stopPropagation();$this.panel("expand")})}_setVisible($this,data,!allOptions.startHidden);
_setExpanded($this,data,!allOptions.startCollapsed)}})},show:function(){return this.each(function(){_setVisible($(this),undefined,true)
})},hide:function(){return this.each(function(){_setVisible($(this),undefined,false)
})},toggle:function(show){return this.each(function(){var $this=$(this),data=$this.data("panel");
_setVisible($(this),data,show!==undefined&&show||show===undefined&&$this.css("display")==="none")
})},expand:function(amount){return this.each(function(){var $this=$(this),data=$this.data("panel"),properties={},matches;
properties[data.property]=amount===undefined?data.expandedValue:((matches=/(.*)%$/.exec(amount))?data.ratio*(100-parseFloat(matches[1])):data.collapsedValue+parseFloat(amount));
data.expanded=properties[data.property]==data.expandedValue;$this.stop().animate(properties,data.duration,data.easing,function(){$this.removeClass("panel-expanding").addClass("panel-expanded")
}).removeClass("panel-collapsing panel-collapsed panel-expanded").addClass("panel-expanding").trigger("expand.panel")
})},collapse:function(amount){return this.each(function(){var $this=$(this),data=$this.data("panel"),properties={},matches;
properties[data.property]=amount===undefined?data.collapsedValue:((matches=/(.*)%$/.exec(amount))?data.ratio*parseFloat(matches[1]):-parseFloat(amount));
data.expanded=properties[data.property]==data.expandedValue;$this.stop().animate(properties,data.duration,data.easing,function(){$this.removeClass("panel-collapsing").addClass("panel-collapsed")
}).removeClass("panel-expanding panel-expanded panel-collapsed").addClass("panel-collapsing").trigger("collapse.panel")
})},toggleExpand:function(expand){return this.each(function(){var $this=$(this),data=$this.data("panel");
$this.panel(expand!==undefined&&expand||expand===undefined&&!data.expanded?"expand":"collapse")
})}};$.fn.panel=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1))
}else{if(typeof method==="object"||!method){return methods.init.apply(this,arguments)
}else{$.error("Method "+method+" does not exist on jQuery.panel")}}}})(jQuery);